<!doctype html>
<html class="no-js" lang="en" dir="ltr">

<head>
  <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous"></script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Foundation for Sites</title>
  <link rel="stylesheet" href="assets/css/foundation.css">
  <!-- <link rel="stylesheet" href="assets/css/app.css"> -->
  <link rel="stylesheet" href="assets/css/map.css">
</head>

<body>

  <div class="top-bar">
    <div class="top-bar-left">
      <ul class="dropdown menu" data-dropdown-menu>
        <li class="menu-text">Musical Maps</li>
        <li class="has-submenu">

      </ul>
    </div>
    <div class="top-bar-right">
      <ul class="menu">
        <li><input type="search" placeholder="Search"></li>
        <li><button type="button" class="button">Search</button></li>
      </ul>
    </div>
  </div>


  <ul class="accordion" data-accordion>
    <li class="accordion-item is-active" data-accordion-item>
      <a href="#" class="accordion-title">Accordion 1</a>
      <div class="accordion-content" data-tab-content>
        <p>Panel 1. Lorem ipsum dolor</p>
        <a href="#">Nowhere to Go</a>
      </div>
    </li>
    <li class="accordion-item" data-accordion-item>
      <a href="#" class="accordion-title">Accordion 2</a>
      <div class="accordion-content" data-tab-content>
        <textarea></textarea>
        <button class="button">I do nothing!</button>
      </div>
    </li>
    <li class="accordion-item" data-accordion-item>
      <a href="#" class="accordion-title">Accordion 3</a>
      <div class="accordion-content" data-tab-content>
        Type your name!
        <input type="text"></input>
      </div>
    </li>
    <li class="accordion-item" data-accordion-item>
      <a href="#" class="accordion-title">Accordion 4</a>
      <div class="accordion-content" data-tab-content>
        Type your name!
        <input type="text"></input>
      </div>
    </li>
  </ul>

  <div class="callout" data-closable>
    <button class="close-button" aria-label="Close alert" type="button" data-close>
      <span aria-hidden="true">&times;</span>
    </button>
    <p>This is a close button example.</p>
  </div>

  <div id="map"></div>



  <script src="assets/js/vendor/jquery.js"></script>
  <script src="assets/js/vendor/what-input.js"></script>
  <script src="assets/js/vendor/foundation.js"></script>
  <script src="assets/js/app.js"></script>
  <!-- <script src="project.js"></script> -->
  <!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDQ6KY6krJXFF_zK9kkFrax25bOijqGm40&callback=initMap" -->
  <!-- async defer></script> -->
  <script>
    // Map options. 
    var map;
    function initMap() {

      //Map options
      var options = {
        zoom: 8,
        center: { lat: 42.3601, lng: -71.0589 }
      }


      // New Map
      map = new google.maps.Map(document.getElementById('map'), options);

      // Listen for click on map 
      google.maps.event.addListener(map, 'click',
        function(event){
          // Add marker
          addMarker({coords:event.latLng});
      });

      /*
        //Add marker
          var marker = new google.maps.Marker({
            position:{lat: 42.4668, lng: -70.9495},
            map:map,
            icon: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'
          });
  
    // Info Window        
    var infoWindow = new google.maps.InfoWindow({
      content:'<h1>Norwegian Death</h1>'
    })
  
    marker.addListener('click', function(){
      infoWindow.open(map, marker);
    });
          */

      // Array of markers
      var markers = [
        {
          coords: { lat: 42.4668, lng: -70.9495 },
          iconImage: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
          content: '<h1>Lynn MA</h1>'
        },
        {
        coords: { lat: 42.8584, lng: -70.9300 },
        content: '<h1>Amesbury MA</h1>'
      },
      { 
        coords: { lat: 42.7762, lng: -71.0773 } 
      }
      ];

      // Loop through markers
      for(var i = 0; i < markers.length;i++){
        // Add Marker Function
        addMarker(markers[i]);
      }

      //Add marker function
      function addMarker(props) {
        var marker = new google.maps.Marker({
          position: props.coords,
          map: map
          //icon:props.iconImage
        });

        //Check for customicon
        if (props.iconImage) {
          //set icon image
          marker.setIcon(props.iconImage);
        }

        // Check content 
        if (props.content) {
          var infoWindow = new google.maps.InfoWindow({
            content: props.content
          })

          marker.addListener('click', function () {
            infoWindow.open(map, marker);
          });

        }
      }
    }


  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDQ6KY6krJXFF_zK9kkFrax25bOijqGm40&callback=initMap"
    async defer></script>

</body>

</html>